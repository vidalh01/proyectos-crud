import{d as x,r as m,o as I,c as r,a as e,b as p,w,v as D,u as s,i as F,F as N,e as $,t as h,f as i}from"./index-RFc8bzEk.js";class b{constructor(){}static async get(n){return await(await fetch(n)).json()}static async post(n,t){await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}static async del(n){await fetch(n,{method:"DELETE"})}static async patch(n,t){await fetch(n,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}}const j={class:"d-flex justify-content-center align-items-center vh-100"},B={class:"card p-5"},S={class:"mb-3"},O={class:"table table-bordered my-3"},V=["disabled","onClick"],G=["disabled","onClick"],J=x({__name:"Fetch",setup(y){let n=m([]),t=m(""),u=m(null),o=m(!1),d="http://localhost:3000/usuarios";I(()=>{b.get(d).then(a=>{n.value=a,console.log(a)})});function f(){b.get(d).then(a=>{n.value=a})}function g(){let a={data:{nombre:t.value}};if(t.value===""){alert("El campo no puede estar vacío");return}b.post(d,a).then(()=>{f()}),t.value=""}function k(a){let l=n.value[a].id;l!==void 0?b.del(`${d}/${l}`).then(()=>{f()}):console.error("Error: El ID del item es undefined")}function C(a){t.value=n.value[a].data.nombre,u.value=a,o.value=!0}function E(){if(u.value!==null){let a=n.value[u.value].id;a!==void 0?b.patch(`${d}/${a}`,{data:{nombre:t.value}}).then(()=>{f()}):console.error("Error: El ID del item es undefined")}o.value=!1,u.value=null,t.value=""}function _(){o.value=!1}return(a,l)=>(i(),r("div",j,[e("div",null,[l[3]||(l[3]=e("h1",{class:"text-center"},"Bienvenido a la página Fetch",-1)),e("div",B,[e("div",S,[l[1]||(l[1]=e("label",{for:"inputTexto",class:"form-label"},"Ingrese un nombre",-1)),w(e("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>F(t)?t.value=c:t=c),type:"text",class:"form-control",id:"inputTexto",required:""},null,512),[[D,s(t)]])]),s(o)?p("",!0):(i(),r("button",{key:0,onClick:g,class:"btn btn-primary"},"Enviar")),s(o)?(i(),r("button",{key:1,onClick:E,class:"btn btn-secondary"},"Guardar")):p("",!0),s(o)?(i(),r("button",{key:2,onClick:_,class:"btn btn-danger my-1"},"Cancelar")):p("",!0)]),e("table",O,[l[2]||(l[2]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Nombre"),e("th",{scope:"col"},"Funciones")])],-1)),e("tbody",null,[(i(!0),r(N,null,$(s(n),(c,v)=>(i(),r("tr",{key:v},[e("td",null,h(c.data.nombre)+" "+h(c.id),1),e("td",null,[e("button",{disabled:s(o),onClick:T=>C(v),class:"btn btn-success me-2"},"E",8,V),e("button",{disabled:s(o),onClick:T=>k(v),class:"btn btn-danger"},"X",8,G)])]))),128))])])])]))}});export{J as default};
