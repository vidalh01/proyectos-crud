import{_ as g}from"./mainComp.vue_vue_type_script_setup_true_lang-DkBq7PDA.js";import{d as _,r as l,o as w,c as E,u,a as I}from"./index-kw-C2qQh.js";class i{constructor(){}static async get(e){return await(await fetch(e)).json()}static async post(e,a){await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}static async del(e){await fetch(e,{method:"DELETE"})}static async patch(e,a){await fetch(e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}}const T=_({__name:"Fetch",setup(d){let e="Fetch",a=l([]),o=l(null),c=l(!1),r="http://localhost:3000/usuarios";w(async()=>{i.get(r).then(t=>{a.value=t,console.log(t)})});async function s(){await i.get(r).then(t=>{a.value=t})}async function m(t){let n={data:{nombre:t}};if(t===""){alert("El campo no puede estar vacÃ­o");return}await i.post(r,n).then(()=>{s()})}async function f(t,n){let v=t.id;await i.del(`${r}/${v}`).then(()=>{s()})}function h(t,n){o.value=n,c.value=!0}async function p(t){if(o.value!==null){let n=a.value[o.value].id;n!==void 0?await i.patch(`${r}/${n}`,{data:{nombre:t}}).then(()=>{s()}):console.error("Error: El ID del item es undefined")}c.value=!1,o.value=null}function y(){c.value=!1}return(t,n)=>(I(),E(g,{title:u(e),onEditarItem:h,onAgregarItem:m,onGuardarItem:p,"mode-edit":u(c),"x-arr":u(a),"borrar-item":f,onCancerEdit:y},null,8,["title","mode-edit","x-arr"]))}});export{T as default};
